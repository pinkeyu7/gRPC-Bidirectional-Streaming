syntax = "proto3";

option go_package = "/task";

package task;

service Task {
  rpc RegisterFromWorker (RegisterFromWorkerRequest) returns (RegisterFromWorkerResponse) {}
  rpc RequestFromClient (RequestFromClientRequest) returns (RequestFromClientResponse) {}
  rpc RequestFromServer (stream RequestFromServerResponse) returns (stream RequestFromServerRequest) {}
}

message RegisterFromWorkerRequest {
  string workerId = 1;
  repeated string TaskIds = 2;
}

message RegisterFromWorkerResponse {
}

message RequestFromClientRequest {
  string TaskId = 1;
}

message RequestFromClientResponse {
  string TaskId = 1;
  string TaskMessage = 3;
}

message RequestFromServerRequest {
  string RequestId = 1;
  string TaskId = 2;
}

message RequestFromServerResponse {
  string RequestId = 1;
  string TaskId = 2;
  string TaskMessage = 3;
}
